module.exports=[95904,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)({}),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)({total:0,totalValue:0,averageValue:0}),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)("All"),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)(!1),K=(0,c.useCallback)(async(b=!1,c=null)=>{try{b?J(!0):(d([]),F(null),f(!0)),h(null);let e=new URLSearchParams({limit:"50"});c&&e.append("after",c);let g=await fetch(`/api/abandoned-checkouts?${e}`);if(!g.ok)throw Error(`HTTP error! status: ${g.status}`);let i=await g.json();if(i.success){let c=i.data.map(a=>({id:a.id.split("/").pop(),createdAt:a.timestamp,customer:a.customerName,email:a.email,region:"India",emailStatus:"Not Sent",recoveryStatus:"Not Recovered",total:a.totalValue,totalNumeric:a.totalNumeric,recoveryLink:a.recoveryUrl,items:a.items.map(a=>({title:`${a.title} - ${a.variant}`,sku:"SKU: N/A",price:a.unitPrice,priceNumeric:parseFloat(a.unitPrice.split(" ")[1])||0,quantity:a.quantity,image:a.image||"/placeholder-image.jpg"}))})),e=b?[...a,...c]:c;d(e),N(e),F(i.pageInfo?.endCursor||null),H(50===i.data.length&&!!i.pageInfo?.hasNextPage),P(b?"More checkouts loaded successfully":"Checkouts loaded successfully","success")}else h(i.error||"Unknown error occurred"),P(i.error,"error")}catch(a){h("Fetch failed: "+a.message),P("Failed to load checkouts: "+a.message,"error")}finally{f(!1),J(!1)}},[a]);(0,c.useEffect)(()=>{K(!1)},[]);let L=()=>K(!1),M=(0,c.useCallback)(async b=>{let c=a.find(a=>a.id===b);return c?(z(!1),{...c,store:"Online store",orders:"No orders",account:"No email"!==c.email?"Has account":"No account",shippingAddress:"Shipping address not available\nCity, State\nIndia",billingAddress:"Same as shipping address",notes:"",subscribedEmail:!1,subscribedSMS:!1,subtotalNumeric:.95*c.totalNumeric,shippingNumeric:.05*c.totalNumeric,cgstNumeric:.025*c.totalNumeric,sgstNumeric:.025*c.totalNumeric}):{id:b,createdAt:new Date().toISOString(),customer:"Fallback Customer",email:"fallback@example.com",region:"India",emailStatus:"Not Sent",recoveryStatus:"Not Recovered",store:"Online store",orders:"No orders",account:"No account",subscribedEmail:!1,subscribedSMS:!1,notes:"",totalNumeric:100,subtotalNumeric:95,shippingNumeric:5,cgstNumeric:2.5,sgstNumeric:2.5,shippingAddress:"Fallback Address\n12345 City State\nIndia",billingAddress:"Same as shipping address",recoveryLink:`https://example.com/checkouts/${b}/recover`,items:[{title:"Fallback Item",sku:"SKU: FALLBACK",priceNumeric:100,quantity:1,image:"/placeholder-image.jpg"}]}},[a]),N=a=>{let b=a.length,c=a.reduce((a,b)=>a+(b.totalNumeric||0),0);n({total:b,totalValue:c,averageValue:b>0?c/b:0})},O=a.filter(a=>{let b=a.customer?.toLowerCase().includes(A.toLowerCase())||a.id?.toLowerCase().includes(A.toLowerCase())||a.email?.toLowerCase().includes(A.toLowerCase()),c="All"===C||a.emailStatus===C;return b&&c}),P=(a,b="info",c=!0)=>{let d=Date.now(),e={id:d,message:a,type:b};l(a=>[...a,e]),c&&setTimeout(()=>Q(d),5e3)},Q=a=>l(b=>b.filter(b=>b.id!==a)),R=async a=>{x(await M(a.id)),v(!0)},S=async()=>{if(!o)return;let a=o.id;j(b=>({...b,[a]:!0}));try{let b=await fetch("/api/recover-cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({checkoutId:a,email:q,subject:`Complete Your Purchase - ${o.customer||"Customer"}`,message:`Hi ${o.customer||"there"},

We noticed you left items in your cart worth ${o.total}:

Complete your purchase here:
${o.recoveryLink||`https://example.com/checkouts/${a}`}

Thank you,
The Store Team`})}),c=await b.json();c.success?(P(`Recovery email sent to ${q}`,"success"),d(b=>b.map(b=>b.id===a?{...b,emailStatus:"Sent",recoveryStatus:"In Progress"}:b))):P(c.message||"Failed to send email","error")}catch(a){P("Failed to send recovery email: "+a.message,"error")}finally{j(b=>({...b,[a]:!1})),t(!1),p(null)}},T=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(a);return e?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col items-center justify-center min-h-[60vh]",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent"}),(0,b.jsx)("span",{className:"mt-4 text-lg text-gray-700 font-medium",children:"Loading abandoned checkouts..."}),(0,b.jsx)("p",{className:"mt-2 text-gray-500",children:"Fetching data from Shopify"})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:k.map(a=>(0,b.jsx)("div",{className:`p-4 rounded-lg shadow-lg border-l-4 ${"success"===a.type?"bg-green-50 border-green-500 text-green-800":"error"===a.type?"bg-red-50 border-red-500 text-red-800":"bg-blue-50 border-blue-500 text-blue-800"}`,children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("p",{className:"font-medium",children:a.message}),(0,b.jsx)("button",{onClick:()=>Q(a.id),className:"ml-4 text-gray-500 hover:text-gray-700",children:"âœ•"})]})},a.id))}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Abandoned Checkouts"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Recover lost sales by reaching out to customers"})]}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Abandoned"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m.total})]}),(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Potential Revenue"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:T(m.totalValue)})]}),(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Average Cart Value"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:T(m.averageValue)})]})]}),g&&(0,b.jsx)("div",{className:"mb-8 bg-red-50 border border-red-200 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-red-800",children:"Error Loading Checkouts"}),(0,b.jsx)("div",{className:"mt-2 text-red-700",children:(0,b.jsx)("p",{children:g})}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("button",{onClick:L,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})})]})]})}),!g&&(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"ðŸ›’ Abandoned checkouts"}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["( ",O.length," )"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search...",value:A,onChange:a=>B(a.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,b.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,b.jsxs)("select",{value:C,onChange:a=>D(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,b.jsx)("option",{children:"All"}),(0,b.jsx)("option",{children:"Not Sent"}),(0,b.jsx)("option",{children:"Sent"})]}),(0,b.jsx)("button",{onClick:()=>{P("Exporting data...","info"),console.log("Export triggered")},className:"px-4 py-2 bg-black text-white rounded-lg text-sm hover:bg-gray-800 transition-colors",children:"Export"})]})]}),(0,b.jsx)("div",{className:"overflow-y-auto max-h-[60vh]",children:(0,b.jsxs)("table",{className:"w-full table-auto divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,b.jsx)("input",{type:"checkbox",className:"rounded"})}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Checkout"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Region"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recovery Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===O.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:[(0,b.jsx)("div",{className:"text-green-500 text-6xl mb-4",children:"âœ“"}),(0,b.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Abandoned Checkouts"}),(0,b.jsx)("p",{className:"mb-6",children:"All carts have been recovered or completed."}),(0,b.jsx)("button",{onClick:L,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Check Again"})]})}):O.map((a,c)=>{let d,e,f;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,b.jsx)("input",{type:"checkbox",className:"rounded"})}),(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,b.jsxs)("button",{onClick:()=>R(a),className:"text-sm font-medium text-blue-600 hover:text-blue-900 underline",children:["#",a.id]})}),(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(d=new Date(a.createdAt),e=Math.floor((new Date-d)/864e5),f=d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),0===e?f.toLowerCase():1===e?`Yesterday at ${f.toLowerCase()}`:`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d.getDay()]} at ${f.toLowerCase()}`)}),(0,b.jsx)("td",{className:"px-4 py-4 max-w-xs",children:(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.customer})}),(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a.region}),(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"Not Sent"===a.emailStatus?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:a.emailStatus})}),(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"Not Recovered"===a.recoveryStatus?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:a.recoveryStatus})}),(0,b.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:(0,b.jsx)("div",{className:"font-bold",children:a.total})})]},a.id||c)})})]})}),O.length>0&&(0,b.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Learn more about abandoned checkouts"}),G&&(0,b.jsx)("button",{onClick:()=>{E&&G&&K(!0,E)},disabled:I,className:"text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50",children:I?"Loading...":"Load More"}),(0,b.jsx)("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:"+"})]})]}),u&&w&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["#",w.id]}),(0,b.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:w.recoveryStatus}),(0,b.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800 ml-2",children:w.emailStatus})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{let a;return a=w.recoveryLink||`https://example.com/checkouts/${w.id}`,void window.open(a,"_blank")},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:"Print"}),(0,b.jsx)("button",{onClick:()=>{v(!1),x(null)},className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]})]}),(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)("span",{children:w.region}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:[new Date(w.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," at ",new Date(w.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase()]})]})}),(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Email your customer this link to recover their cart"}),(0,b.jsx)("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:(0,b.jsx)("input",{type:"text",value:w.recoveryLink,readOnly:!0,className:"w-full text-sm bg-transparent border-0 focus:outline-none"})}),(0,b.jsx)("button",{onClick:()=>{p(w),r(w.email||""),t(!0)},className:"mt-2 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Send a cart recovery email"})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Checkout details"}),(0,b.jsxs)("div",{className:"space-y-4",children:[w.items.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,b.jsx)("img",{src:a.image,alt:a.title,className:"w-16 h-16 rounded object-cover flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.sku})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[a.price," Ã— ",a.quantity]}),(0,b.jsx)("p",{className:"text-sm text-gray-900 font-bold",children:a.price})]})]},c)),(0,b.jsxs)("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsx)("span",{children:T(w.subtotalNumeric)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Shipping"}),(0,b.jsxs)("span",{children:["Standard (0 kg) ",T(w.shippingNumeric)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Estimated tax"}),(0,b.jsxs)("span",{children:["CGST 2.5% ",T(w.cgstNumeric)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{}),(0,b.jsxs)("span",{children:["SGST 2.5% ",T(w.sgstNumeric)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200",children:[(0,b.jsx)("span",{children:"Total to be paid by customer"}),(0,b.jsx)("span",{children:w.total})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:(0,b.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:["From ",w.store]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Customer"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:w.customer}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:w.orders})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Contact information"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-900",children:w.email}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:w.account})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Shipping address"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:w.shippingAddress}),(0,b.jsx)("button",{className:"mt-2 text-xs text-blue-600 hover:underline",children:"Edit"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Billing address"}),(0,b.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-gray-500",children:w.billingAddress})})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6 border-t border-gray-200",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Notes"}),(0,b.jsx)("textarea",{placeholder:"Add a note to this checkout",defaultValue:w.notes,className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3}),(0,b.jsx)("button",{className:"mt-2 px-4 py-2 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700",children:"Save"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Marketing"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"rounded mr-2",checked:w.subscribedEmail,readOnly:!0}),(0,b.jsx)("span",{children:w.subscribedEmail?"Email subscribed":"Email not subscribed"})]}),(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"rounded mr-2",checked:w.subscribedSMS,readOnly:!0}),(0,b.jsx)("span",{children:w.subscribedSMS?"SMS subscribed":"SMS not subscribed"})]})]})]})]})]})}),s&&o&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Send Recovery Email"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email"}),(0,b.jsx)("input",{type:"email",value:q,onChange:a=>r(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Default: ",o.email]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"This will send a recovery email with a link back to the cart containing:"}),(0,b.jsxs)("ul",{className:"mt-2 text-sm text-gray-700 list-disc pl-5 space-y-1",children:[(0,b.jsxs)("li",{children:[o.items?.length||1," item(s)"]}),(0,b.jsxs)("li",{children:["Total value: ",o.total]}),(0,b.jsxs)("li",{children:["Customer: ",o.customer]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:S,disabled:i[o.id]||!q,className:`flex-1 px-4 py-3 rounded-lg font-medium ${i[o.id]||!q?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i[o.id]?(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Sending..."]}):"Send Email"}),(0,b.jsx)("button",{onClick:()=>{t(!1),p(null)},className:"px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=src_app_abandoned-checkouts_page_30f324e7.js.map