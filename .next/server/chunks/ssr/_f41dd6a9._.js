module.exports=[70179,(a,b,c)=>{!function(b,c){if("function"==typeof define&&define.amd){let b;void 0!==(b=c())&&a.v(b)}else c()}(a.e,function(){"use strict";var c="object"==typeof self&&self.self===self?self:a.g.global===a.g?a.g:void 0,d=(c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&/Safari/.test(navigator.userAgent),c.saveAs||function(){});c.saveAs=d.saveAs=d,b.exports=d})},15532,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70179);a.s(["default",0,()=>{let a=process.env.NEXT_PUBLIC_API_URL||"http://your-backend-url.com",[e,f]=(0,c.useState)("maitri-kh.myshopify.com"),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),s=`${a}/allorderget.php`,t=async()=>{if(!e)return void n("Please enter a shop domain");l(!0),n("");try{let a=`${s}?shop=${e}`,b=await fetch(a);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);let c=await b.json();if(c.error)throw Error(c.error);let d=c.data.orders.edges.map(a=>{let b=a.node;return{id:b.id.split("/").pop(),name:b.name,date:b.createdAt.slice(0,10),customer:`${b.customer?.firstName||""} ${b.customer?.lastName||""}`.trim()||"Guest",email:b.customer?.email||"N/A",total:parseFloat(b.totalPriceSet.shopMoney.amount).toFixed(2),discount:parseFloat(b.totalDiscountsSet.shopMoney.amount).toFixed(2),status:b.displayFinancialStatus,payment:b.paymentGatewayNames.join(", ")||"N/A",shipping:b.shippingLines.edges[0]?.node.title||"N/A",items:b.lineItems.edges.map(a=>({product:a.node.title,quantity:a.node.quantity}))}});r(d);let f=[...d];(g||i)&&(f=d.filter(a=>{let b=new Date(a.date),c=g?new Date(g):null,d=i?new Date(i):null;return c&&!d?b>=c:!c&&d?b<=d:!c||!d||b>=c&&b<=d})),p(f),console.log("Filtered Orders:",f),n(`Found ${f.length} orders${g||i?` (filtered from ${d.length})`:""}`)}catch(a){console.error("Error fetching orders:",a),n(`Error: ${a.message}`),p([]),r([])}finally{l(!1)}};return(0,b.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,b.jsx)("h1",{style:{color:"#2c3e50",textAlign:"center"},children:"Shopify Order Report Generator"}),(0,b.jsxs)("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"25px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#2c3e50"},children:"Shop Domain"}),(0,b.jsx)("input",{type:"text",value:e,onChange:a=>f(a.target.value),placeholder:"your-store.myshopify.com",style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"16px"}})]}),(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#2c3e50"},children:"Date Range (Optional)"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px"},children:"From"}),(0,b.jsx)("input",{type:"date",value:g,onChange:a=>h(a.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd"}})]}),(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px"},children:"To"}),(0,b.jsx)("input",{type:"date",value:i,onChange:a=>j(a.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd"}})]})]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",marginBottom:"20px"},children:[(0,b.jsx)("button",{onClick:t,disabled:k,style:{flex:1,padding:"12px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer",fontWeight:"bold",transition:"background-color 0.3s"},onMouseOver:a=>a.currentTarget.style.backgroundColor="#2980b9",onMouseOut:a=>a.currentTarget.style.backgroundColor="#3498db",children:k?"Loading...":"Fetch Orders"}),(0,b.jsx)("button",{onClick:()=>{if(0===q.length)return void n("No orders to filter. Please fetch orders first.");let a=[...q];(g||i)&&(a=q.filter(a=>{let b=new Date(a.date),c=g?new Date(g):null,d=i?new Date(i):null;return c&&!d?b>=c:!c&&d?b<=d:!c||!d||b>=c&&b<=d})),p(a),n(`Found ${a.length} orders${g||i?` (filtered from ${q.length})`:""}`)},disabled:k||0===q.length,style:{flex:1,padding:"12px",backgroundColor:q.length>0?"#9b59b6":"#95a5a6",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",cursor:q.length>0?"pointer":"not-allowed",fontWeight:"bold",transition:"background-color 0.3s"},onMouseOver:a=>q.length>0&&(a.currentTarget.style.backgroundColor="#8e44ad"),onMouseOut:a=>q.length>0&&(a.currentTarget.style.backgroundColor="#9b59b6"),children:"Apply Date Filter"}),(0,b.jsx)("button",{onClick:()=>{if(0===o.length)return void n("No orders to generate report");try{let a="data:text/csv;charset=utf-8,";a+="Order ID,Order Name,Date,Customer,Email,Total,Discount,Status,Payment Method,Shipping Method,Items\n",o.forEach(b=>{let c=b.items.map(a=>`${a.product} (Qty: ${a.quantity})`).join(", "),d=[b.id,b.name,b.date,`"${b.customer}"`,b.email,b.total,b.discount,b.status,`"${b.payment}"`,`"${b.shipping}"`,`"${c}"`];a+=d.join(",")+"\n"});let b=`shopify-orders-report-${e}-${new Date().toISOString().slice(0,10)}.csv`,c=new Blob([a],{type:"text/csv;charset=utf-8;"});(0,d.saveAs)(c,b),n(`CSV report generated: ${b}`)}catch(a){console.error("Error generating CSV:",a),n(`Error generating CSV: ${a.message}`)}},disabled:k||0===o.length,style:{flex:1,padding:"12px",backgroundColor:o.length>0?"#2ecc71":"#95a5a6",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",cursor:o.length>0?"pointer":"not-allowed",fontWeight:"bold",transition:"background-color 0.3s"},onMouseOver:a=>o.length>0&&(a.currentTarget.style.backgroundColor="#27ae60"),onMouseOut:a=>o.length>0&&(a.currentTarget.style.backgroundColor="#2ecc71"),children:"Generate CSV Report"})]}),m&&(0,b.jsx)("div",{style:{padding:"12px",backgroundColor:m.includes("Error")?"#fadbd8":"#d5f5e3",color:m.includes("Error")?"#c0392b":"#27ae60",borderRadius:"4px",marginTop:"10px",textAlign:"center",fontWeight:"bold"},children:m}),o.length>0&&(0,b.jsxs)("div",{style:{marginTop:"30px"},children:[(0,b.jsx)("h2",{style:{color:"#2c3e50",marginBottom:"15px"},children:g||i?`Filtered Orders (${o.length})`:`All Orders (${o.length})`}),(0,b.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px"},children:(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{backgroundColor:"#f2f2f2"},children:[(0,b.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Order #"}),(0,b.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Date"}),(0,b.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Customer"}),(0,b.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Total"}),(0,b.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Status"}),(0,b.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Payment"})]})}),(0,b.jsx)("tbody",{children:o.map((a,c)=>(0,b.jsxs)("tr",{style:{backgroundColor:c%2==0?"#ffffff":"#f9f9f9"},children:[(0,b.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:a.name}),(0,b.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:a.date}),(0,b.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:a.customer}),(0,b.jsxs)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:["$",a.total]}),(0,b.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:a.status}),(0,b.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:a.payment})]},a.id))})]})})]})]})]})}])}];

//# sourceMappingURL=_f41dd6a9._.js.map