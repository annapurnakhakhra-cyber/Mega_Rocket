(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76455,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a(){let[e,a]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[n,o]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),f=async t=>{if(t.preventDefault(),u(""),!e||!r||!n)return void u("Please fill in all required fields.");if(!e.includes(".myshopify.com"))return void u("Shop domain must end with .myshopify.com");p(!0);try{let t=await fetch("/api/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopDomain:e,accessToken:r,shopName:n,email:i})}),s=await t.json();t.ok?(u("âœ… Token saved successfully!"),a(""),l(""),o(""),d("")):u(`âŒ ${s.error||"Failed to save token."}`)}catch(e){console.error(e),u("âŒ Network error. Please try again.")}finally{p(!1)}};return(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:(0,t.jsxs)("form",{onSubmit:f,className:"bg-white p-8 rounded-xl shadow-md w-full max-w-md space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 flex items-center justify-center gap-2 text-gray-800",children:"ðŸ”‘ Save Shop Token"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Shop Domain ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., example.myshopify.com",className:"w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:e,onChange:e=>a(e.target.value),disabled:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Access Token ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"password",placeholder:"shpat_...",className:"w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:r,onChange:e=>l(e.target.value),disabled:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Shop Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:e=>o(e.target.value),disabled:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (optional)"}),(0,t.jsx)("input",{type:"email",className:"w-full border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:i,onChange:e=>d(e.target.value),disabled:m})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 px-4 rounded-md hover:opacity-90 transition disabled:opacity-50 flex items-center justify-center gap-2",children:m?"â³ Saving...":"ðŸ”‘ Save Token"}),c&&(0,t.jsx)("p",{className:"mt-4 text-center p-3 rounded-md bg-blue-50 border border-blue-200 text-sm",children:c})]})})}e.s(["default",()=>a])}]);