{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/next-shiprocket/shiprocket/src/lib/db.js"],"sourcesContent":["\r\n// /lib/db.js\r\nimport mongoose from \"mongoose\";\r\n\r\nlet isConnected = false;\r\n\r\nexport default async function connectDB() {\r\n  if (isConnected) return;\r\n\r\n  if (!process.env.MONGODB_URI) {\r\n    throw new Error(\"❌ MONGODB_URI is missing in .env.local\");\r\n  }\r\n\r\n  try {\r\n    const db = await mongoose.connect(process.env.MONGODB_URI, {\r\n      dbName: \"shopify-app\",\r\n    });\r\n    isConnected = db.connections[0].readyState === 1;\r\n    console.log(\"✅ Database connected\");\r\n  } catch (err) {\r\n    console.error(\"❌ Database connection error:\", err);\r\n    throw err;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AACA,aAAa;;;;;AACb;;AAEA,IAAI,cAAc;AAEH,eAAe;IAC5B,IAAI,aAAa;IAEjB,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;QAC5B,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,KAAK,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;YACzD,QAAQ;QACV;QACA,cAAc,GAAG,WAAW,CAAC,EAAE,CAAC,UAAU,KAAK;QAC/C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACR;AACF"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/next-shiprocket/shiprocket/src/models/Contact.js"],"sourcesContent":["// shiprocket/models/Contact.js\r\nimport mongoose from 'mongoose';\r\n\r\nconst contactSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: { type: String, required: true },\r\n  subject: { type: String, required: true },\r\n  message: { type: String, required: true },\r\n  createdAt: { type: Date, default: Date.now },\r\n});\r\n\r\nexport default mongoose.models.Contact || mongoose.model('Contact', contactSchema, 'contact');"],"names":[],"mappings":"AAAA,+BAA+B;;;;;AAC/B;;AAEA,MAAM,gBAAgB,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACxC,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,WAAW;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;AAC7C;uCAEe,oHAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,oHAAQ,CAAC,KAAK,CAAC,WAAW,eAAe"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/next-shiprocket/shiprocket/src/app/api/contact/route.js"],"sourcesContent":["// shiprocket/app/api/contact/route.js\r\nimport { NextResponse } from \"next/server\";\r\nimport connectDB from \"@/lib/db\";\r\nimport Contact from \"@/models/Contact\";\r\nimport nodemailer from \"nodemailer\";\r\n\r\nconst corsHeaders = {\r\n  \"Access-Control-Allow-Origin\": \"http://10.27.4.16:3000\", // ← Change to your frontend URL\r\n  \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\r\n  \"Access-Control-Allow-Headers\": \"Content-Type\",\r\n};\r\n\r\nexport async function OPTIONS() {\r\n  return new NextResponse(null, { headers: corsHeaders });\r\n}\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    await connectDB();\r\n\r\n    const { name, email, subject, message } = await request.json();\r\n\r\n    // Save to shiprocket MongoDB\r\n    const contact = await Contact.create({\r\n      name,\r\n      email,\r\n      subject,\r\n      message,\r\n    });\r\n\r\n    console.log(\"New contact:\", contact);\r\n\r\n    // Optional: Send email notification\r\n    // Uncomment if you want Gmail alert\r\n    /*\r\n    const transporter = nodemailer.createTransport({\r\n      service: \"gmail\",\r\n      auth: {\r\n        user: process.env.GMAIL_USER,\r\n        pass: process.env.GMAIL_APP_PASSWORD,\r\n      },\r\n    });\r\n\r\n    await transporter.sendMail({\r\n      from: process.env.GMAIL_USER,\r\n      to: \"admin@yourcompany.com\",\r\n      replyTo: email,\r\n      subject: `New Contact: ${subject}`,\r\n      text: `Name: ${name}\\nEmail: ${email}\\nSubject: ${subject}\\n\\nMessage:\\n${message}`,\r\n    });\r\n    */\r\n\r\n    return NextResponse.json(\r\n      { success: true, message: \"Thank you! We received your message.\" },\r\n      { status: 201, headers: corsHeaders }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Contact error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to send\" },\r\n      { status: 500, headers: corsHeaders }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;;AACtC;AACA;AACA;AACA;;;;;AAEA,MAAM,cAAc;IAClB,+BAA+B;IAC/B,gCAAgC;IAChC,gCAAgC;AAClC;AAEO,eAAe;IACpB,OAAO,IAAI,8JAAY,CAAC,MAAM;QAAE,SAAS;IAAY;AACvD;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,IAAA,2IAAS;QAEf,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE5D,6BAA6B;QAC7B,MAAM,UAAU,MAAM,mJAAO,CAAC,MAAM,CAAC;YACnC;YACA;YACA;YACA;QACF;QAEA,QAAQ,GAAG,CAAC,gBAAgB;QAE5B,oCAAoC;QACpC,oCAAoC;QACpC;;;;;;;;;;;;;;;;IAgBA,GAEA,OAAO,8JAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;QAAuC,GACjE;YAAE,QAAQ;YAAK,SAAS;QAAY;IAExC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kBAAkB;QAChC,OAAO,8JAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAiB,GAC1B;YAAE,QAAQ;YAAK,SAAS;QAAY;IAExC;AACF"}}]
}