{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/next-shiprocket/shiprocket/src/lib/db.js"],"sourcesContent":["\r\n// /lib/db.js\r\nimport mongoose from \"mongoose\";\r\n\r\nlet isConnected = false;\r\n\r\nexport default async function connectDB() {\r\n  if (isConnected) return;\r\n\r\n  if (!process.env.MONGODB_URI) {\r\n    throw new Error(\"❌ MONGODB_URI is missing in .env.local\");\r\n  }\r\n\r\n  try {\r\n    const db = await mongoose.connect(process.env.MONGODB_URI, {\r\n      dbName: \"shopify-app\",\r\n    });\r\n    isConnected = db.connections[0].readyState === 1;\r\n    console.log(\"✅ Database connected\");\r\n  } catch (err) {\r\n    console.error(\"❌ Database connection error:\", err);\r\n    throw err;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AACA,aAAa;;;;;AACb;;AAEA,IAAI,cAAc;AAEH,eAAe;IAC5B,IAAI,aAAa;IAEjB,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;QAC5B,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,KAAK,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;YACzD,QAAQ;QACV;QACA,cAAc,GAAG,WAAW,CAAC,EAAE,CAAC,UAAU,KAAK;QAC/C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACR;AACF"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/next-shiprocket/shiprocket/src/models/Contact.js"],"sourcesContent":["// shiprocket/models/Contact.js\r\nimport mongoose from 'mongoose';\r\n\r\nconst contactSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: { type: String, required: true },\r\n  subject: { type: String, required: true },\r\n  message: { type: String, required: true },\r\n  createdAt: { type: Date, default: Date.now },\r\n});\r\n\r\nexport default mongoose.models.Contact || mongoose.model('Contact', contactSchema, 'contact');"],"names":[],"mappings":"AAAA,+BAA+B;;;;;AAC/B;;AAEA,MAAM,gBAAgB,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACxC,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,WAAW;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;AAC7C;uCAEe,oHAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,oHAAQ,CAAC,KAAK,CAAC,WAAW,eAAe"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/next-shiprocket/shiprocket/src/app/api/contacts/route.js"],"sourcesContent":["// shiprocket/app/api/contacts/route.js   ← NEW FILE\r\nimport { NextResponse } from \"next/server\";\r\nimport connectDB from \"@/lib/db\";\r\nimport Contact from \"@/models/Contact\";\r\n\r\nexport async function GET() {\r\n  try {\r\n    await connectDB();\r\n\r\n    const contacts = await Contact.find({})\r\n      .sort({ createdAt: -1 })  // newest first\r\n      .select(\"name email subject message createdAt\")\r\n      .lean();\r\n\r\n    return NextResponse.json(contacts, { status: 200 });\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch contacts:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to load contacts\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,oDAAoD;;;;;AACpD;AACA;AACA;;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,IAAA,2IAAS;QAEf,MAAM,WAAW,MAAM,mJAAO,CAAC,IAAI,CAAC,CAAC,GAClC,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE,GAAI,eAAe;SACxC,MAAM,CAAC,wCACP,IAAI;QAEP,OAAO,8JAAY,CAAC,IAAI,CAAC,UAAU;YAAE,QAAQ;QAAI;IACnD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,8JAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}